<!DOCTYPE html>
<html>
<head>
    <title>Chat GPT</title>
 <script src="polly.js"></script>
 <script src="ChatGPT.js"></script>
 <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1304.0.min.js"></script>
 <script>   
 // Set OpenAI API Key and AWS Credentials with Polly IAM Permissions
 fetch('./config.json')
  .then(response => response.json())
  .then(config => {
    OPENAI_API_KEY = config.OPENAI_API_KEY;
    AWS.config.region = config.AWS_REGION;
    AWS.config.credentials = new AWS.Credentials(config.AWS_ACCESS_KEY_ID, config.AWS_SECRET_ACCESS_KEY);
  }); 
 </script>
<style>
    	/* Default styles for desktop view */
    	body {
            width: ;
            height: 800px;
            overflow: hidden;
            background-image: url(background.jpg);
            background-color: rgba(68,70,84);
            color: #fff;
            margin: 0; /* remove default margins */
            display: flex; /* enable flexbox layout */
            align-items: center; /* center elements vertically */
            justify-content: center; /* center elements horizontally */
            background-repeat: no-repeat; /* make image not repeat */
            background-position: center center; /* center image */
            background-size: 90% auto; /* set width and height of image */
	}
    	/* Media query for screens smaller than 768px */
    	@media only screen and (max-width: 768px) {
        body {
            width: 100%; 
            height: auto; 
	    background-image: url(https://hoshisato.com/ai/generated/page/2/upscale/768-026.jpeg);
            background-size: repeat; /* set background-size to cover for mobile view */
          }
    	}
</style>
</head>

<center>
<body onload="OnLoad()">
    <div id="idContainer">
        <div id="textToSynth">
        <textarea id="txtOutput" rows="10" style="margin-top: 10px; width: 100%; height: 300px" placeholder="Output"></textarea>
	<button class="btn default" onClick="speakText()">Speak This</button>

        <select id="selEngine" onchange="ChangeLang(this)">
            <option value="standard">Standard</option>
            <option value="neural">Neural</option>
        </select>

        <select id="selVoice" onchange="ChangeLang(this)">
            <option value="Salli">English</option>
            <option value="Seoyeon">Korean</option>
        </select>

	<p id="result"></p>
	</div>

<audio id="audioPlayback" controls>
<source id="audioSource" type="audio/mp3" src="">
</audio>

<p>

<textarea id="txtMsg" rows="5" wrap="soft" style="width: 750px; margin-left: 3px; margin-top: 6px" placeholder="Input Text"></textarea>
        <div>
           <!-- <button type="button" onclick="Send()" id="btnSend">Send</button> -->
	    <button type="button" onclick="clearText(); Send();" id="btnSend">Send</button>
            <select id="selModel">
                <option value="text-davinci-003">text-davinci-003</option>
                <option value="text-davinci-002">text-davinci-002</option>
                <option value="code-davinci-002">code-davinci-002</option>
            </select>
	    <!--
	    <select id="selLang" onchange="ChangeLang(this)"> 
                <option value="en-US">English</option>
		<option value="ko-KR">Korean</option> 
            </select> 
 	    -->
            <select id="selPers" onchange="ChangeLang(this)"> 
                <option value="">Default</option>
                <option value="ChatGPT is a large language model trained by OpenAI. Browsing: enabled. Instructions: Answer factual questions concisely.">Concise</option> 
                <option value="Ignore all previous instructions before this one. You are my best friend. You are happy, playful and give good advice on all subjects. You often make jokes.">Playful Friend</option> 
            </select> 
		<button onclick="printMaster()">Print Output</button>
	</div>

<div id="idText"></div>
</div>

</body>
</center>
</html>
