<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<head>
    <title>Chat GPT</title>
 <script src="mobile.js"></script>
 <script src="polly.js"></script>
 <script src="chatgpt.js"></script>
 <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1304.0.min.js"></script>
 <script>   
 // Set OpenAI API Key and AWS Credentials with Polly IAM Permissions
 fetch('./config.json')
  .then(response => response.json())
  .then(config => {
    OPENAI_API_KEY = config.OPENAI_API_KEY;
    AWS.config.region = config.AWS_REGION;
    AWS.config.credentials = new AWS.Credentials(config.AWS_ACCESS_KEY_ID, config.AWS_SECRET_ACCESS_KEY);
  }); 
 </script>
 <script>
  // Adjust for Mobile User Agents
  mobile_txtout();
  mobile_txtmsd();
</script>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<center>
<body onload="OnLoad()">

 <script>
   // Adjust for Mobile User Agents
   useragent_adjust();
 </script>

<header></header>
    <div id="idContainer">
        <div id="textToSynth">
        <textarea id="txtOutput" rows="10" style="margin-top: 10px; width: 100%; height: 300px" placeholder="Output"></textarea>
	
	<button class="btn default" onClick="speakText()" id="speakSend">Speak This</button>

        <select id="selEngine" onchange="ChangeLang(this)">
            <option value="standard">Standard</option>
            <option value="neural">Neural</option>
        </select>
        <select id="selVoice" onchange="ChangeLang(this)">
            <option value="Salli">English</option>
            <option value="Seoyeon">Korean</option>
            <option value="Mia">Spanish</option>
            <option value="Tatyana">Ukrainian</option>
        </select>

	<input type="checkbox" id="autoSpeak">Auto Speak</input>

	<p id="result"></p>
	</div>

<audio id="audioPlayback" controls>
<source id="audioSource" type="audio/mp3" src="">
</audio>

<p>

<textarea id="txtMsg" rows="5" wrap="soft" style="width: 750px; margin-left: 3px; margin-top: 6px" placeholder="Input Text"></textarea>
        <div>
	    <button type="button" onclick="clearText(); Send();" id="btnSend">Send</button> 
            <select id="selModel">
                <option value="text-davinci-003">text-davinci-003</option>
                <option value="text-davinci-002">text-davinci-002</option>
                <option value="code-davinci-002">code-davinci-002</option>
            </select>
            <select id="selPers" onchange="ChangeLang(this)"> 
                <option value="You are ChatGPT, a knowledgeable AI language model trained by OpenAI. Your goal is to provide concise, accurate, and helpful responses to questions, while being honest and straightforward. Only respond in English.">Default</option>
                <option value="ChatGPT is a large language model trained by OpenAI. Browsing: enabled. Instructions: Answer factual questions concisely. Only respond in English.">Concise</option> 
                <option value="Ignore all previous instructions before this one. You are my best friend. You are happy, playful and give good advice on all subjects. You often make jokes. Only respond in English.">Playful Friend</option>   
            </select> 
		<button  onclick="printMaster()">Print Output</button>
	</div>

<script>
  // Capture CTRL + Enter Key Captures
  ctrlBreak();
</script>

<div id="idText"></div>
</div>
</body>
<footer>
  <img id="eEgg" src="eEgg.gif" alt="Image" style="display:none;">
</footer>
</center>
</html>
